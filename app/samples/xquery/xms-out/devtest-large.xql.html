<!DOCTYPE html><html xmlns="http://www.w3.org/1999/xhtml"><head><title>devtest-large.xql</title><link rel="stylesheet" type="text/css" href="theme.css"></link></head><body><div><pre class="spectrum"><span class="comment">(:
: Module Name: Sample
: Module Version: 1.0
: Date: October 6, 2011
:)</span><span class="whitespace">
</span><span class="op">xquery</span><span class="whitespace"> </span><span class="qname">version</span><span class="whitespace"> </span><span class="op">"</span><span class="literal">1.0</span><span class="op">"</span><span class="open"></span><span class="op">;</span><span class="whitespace">



</span><span class="comment">(:~ so we have XPath 2.0 as default (:function namespace:) :)</span><span class="open"></span><span class="whitespace">
</span><span class="whitespace">declare default function namespace</span><span class="whitespace"> </span><span class="op">"</span><span class="literal">http://www.w3.org/2005/xpath-functions</span><span class="op">"</span><span class="open"></span><span class="op">;</span><span class="whitespace"> 
</span><span class="comment">(:~ this module outputs html  :)</span><span class="open"></span><span class="whitespace">
</span><span class="whitespace">declare default element namespace</span><span class="whitespace"> </span><span class="op">"</span><span class="literal">http://www.w3.org/1999/xhtml</span><span class="op">"</span><span class="open"></span><span class="op">;</span><span class="whitespace">

</span><span class="comment">(:~ This variable contains the first variable to process. :)</span><span class="open"></span><span class="whitespace">
</span><span class="whitespace">declare variable</span><span class="whitespace"> </span><span class="variable">$operand-one</span><span class="whitespace"> </span><span class="op">as</span><span class="whitespace"> </span><span class="type-name">xs:integer</span><span class="whitespace"> </span><span class="op">external</span><span class="op">;</span><span class="whitespace">

</span><span class="comment">(:~ This variable contains the second integer to process. :)</span><span class="open"></span><span class="whitespace">
</span><span class="whitespace">declare variable</span><span class="whitespace"> </span><span class="variable">$operand-two</span><span class="whitespace"> </span><span class="op">as</span><span class="whitespace"> </span><span class="type-name">xs:integer</span><span class="whitespace"> </span><span class="op">external</span><span class="op">;</span><span class="whitespace">

</span><span class="comment">(:~
: Generates title for html page
: &lt;ul class="list"&gt;
:    &lt;li&gt;
        A list item and keywords 'and', 'some' + operators
:    &lt;/li&gt;
: @returns string value for title
:)</span><span class="open"></span><span class="whitespace">
</span><span class="whitespace">declare function</span><span class="whitespace"> </span><span class="function">local:title</span><span class="parenthesis">(</span><span class="parenthesis">)</span><span class="whitespace"> </span><span class="op">as</span><span class="whitespace"> </span><span class="type-name">xs:string</span><span class="op">{</span><span class="whitespace">
</span><span class="op">'</span><span class="literal">A Sample XQuery File</span><span class="op">'</span><span class="open"></span><span class="whitespace">
</span><span class="op">}</span><span class="op">;</span><span class="whitespace">


</span><span class="whitespace">declare function</span><span class="whitespace"> </span><span class="function">local:mytest</span><span class="parenthesis">(</span><span class="parenthesis">)</span><span class="whitespace"> </span><span class="op">as</span><span class="whitespace"> </span><span class="type-name">xs:boolean</span><span class="whitespace">
</span><span class="op">{</span><span class="whitespace">
</span><span class="if">if</span><span class="whitespace"> </span><span class="parenthesis">(</span><span class="function">empty</span><span class="parenthesis">(</span><span class="variable">$operand-one</span><span class="parenthesis">)</span><span class="parenthesis">)</span><span class="whitespace">
    </span><span class="op">then</span><span class="whitespace"> </span><span class="function">false</span><span class="parenthesis">(</span><span class="parenthesis">)</span><span class="whitespace">
 </span><span class="op">else</span><span class="whitespace"> </span><span class="if">if</span><span class="whitespace"> </span><span class="parenthesis">(</span><span class="variable">$operand-two</span><span class="whitespace"> </span><span class="op">eq</span><span class="whitespace"> </span><span class="numeric">2</span><span class="parenthesis">)</span><span class="whitespace">
    </span><span class="op">then</span><span class="whitespace">
    </span><span class="variable">$operand-two</span><span class="whitespace"> </span><span class="op">eq</span><span class="whitespace"> </span><span class="numeric">3</span><span class="whitespace">
 </span><span class="op">else</span><span class="whitespace"> </span><span class="function">false</span><span class="parenthesis">(</span><span class="parenthesis">)</span><span class="whitespace">
</span><span class="op">}</span><span class="op">;</span><span class="whitespace">

</span><span class="if">if</span><span class="whitespace"> </span><span class="parenthesis">(</span><span class="function">true</span><span class="parenthesis">(</span><span class="parenthesis">)</span><span class="parenthesis">)</span><span class="whitespace"> </span><span class="op">then</span><span class="whitespace">
</span><span class="es">&lt;</span><span class="en">html</span><span class="atn"> attr</span><span class="atneq">=</span><span class="z">"</span><span class="av">simple test</span><span class="z">"</span><span class="atn"> test</span><span class="atneq">=</span><span class="z">"</span><span class="av">my </span><span class="op">{</span><span class="qname">awkward</span><span class="step">/</span><span class="qname">difficult</span><span class="op">}</span><span class="av"> answer</span><span class="z">"</span><span class="atn"> class</span><span class="atneq">=</span><span class="z">"</span><span class="op">{</span><span class="step">/</span><span class="qname">abc</span><span class="filter">[</span><span class="axis">@</span><span class="qname">name</span><span class="filter">]</span><span class="op">}</span><span class="z">"</span><span class="z">&gt;</span><span class="txt"> 
</span><span class="es">&lt;</span><span class="en">head</span><span class="z">&gt;</span><span class="txt">
  </span><span class="z">&lt;!--</span><span class="cm"> this is ok </span><span class="z">--&gt;</span><span class="txt">
  </span><span class="es">&lt;</span><span class="en">title</span><span class="z">&gt;</span><span class="op">{</span><span class="function">local:title</span><span class="parenthesis">(</span><span class="parenthesis">)</span><span class="op">}</span><span class="es">&lt;</span><span class="en">bold</span><span class="z">&gt;</span><span class="op">{</span><span class="open"></span><span class="function">local:mytest</span><span class="parenthesis">(</span><span class="parenthesis">)</span><span class="op">,</span><span class="whitespace"> </span><span class="es">&lt;</span><span class="en">nested</span><span class="z">&gt;</span><span class="txt">what </span><span class="op">{</span><span class="open"></span><span class="variable">$operand-two</span><span class="op">,</span><span class="whitespace"> </span><span class="es">&lt;</span><span class="en">nested</span><span class="z">/&gt;</span><span class="op">}</span><span class="txt"> difficulty </span><span class="sc">&lt;/</span><span class="cl">nested</span><span class="z">&gt;</span><span class="op">}</span><span class="sc">&lt;/</span><span class="cl">bold</span><span class="z">&gt;</span><span class="txt"> mixed text</span><span class="sc">&lt;/</span><span class="cl">title</span><span class="z">&gt;</span><span class="txt">
  </span><span class="z">&lt;?</span><span class="pi">abc processing&gt; instruction</span><span class="z">?&gt;</span><span class="txt">
</span><span class="sc">&lt;/</span><span class="cl">head</span><span class="z">&gt;</span><span class="txt">
</span><span class="es">&lt;</span><span class="en">body</span><span class="z">&gt;</span><span class="txt"> 
  </span><span class="es">&lt;</span><span class="en">p</span><span class="z">&gt;</span><span class="op">{</span><span class="variable">$operand-one</span><span class="whitespace"> </span><span class="op">+</span><span class="whitespace"> </span><span class="variable">$operand-two</span><span class="op">}</span><span class="sc">&lt;/</span><span class="cl">p</span><span class="z">&gt;</span><span class="txt">
  </span><span class="es">&lt;</span><span class="en">p</span><span class="z">&gt;</span><span class="z">&lt;![CDATA[</span><span class="cd">this is &lt;testing things&gt; somewhat {testing}and div mod could be tricky/awkward</span><span class="z">]]&gt;</span><span class="sc">&lt;/</span><span class="cl">p</span><span class="z">&gt;</span><span class="txt">
</span><span class="sc">&lt;/</span><span class="cl">body</span><span class="z">&gt;</span><span class="txt">
</span><span class="sc">&lt;/</span><span class="cl">html</span><span class="z">&gt;</span><span class="open"></span><span class="whitespace">
</span><span class="op">else</span><span class="whitespace">
</span><span class="comment">(:
: Module Name: Sample
: Module Version: 1.0
: Date: October 6, 2011
:)</span><span class="whitespace">
</span><span class="op">xquery</span><span class="whitespace"> </span><span class="qname">version</span><span class="whitespace"> </span><span class="op">"</span><span class="literal">1.0</span><span class="op">"</span><span class="open"></span><span class="op">;</span><span class="whitespace">



</span><span class="comment">(:~ so we have XPath 2.0 as default (:function namespace:) :)</span><span class="open"></span><span class="whitespace">
</span><span class="whitespace">declare default function namespace</span><span class="whitespace"> </span><span class="op">"</span><span class="literal">http://www.w3.org/2005/xpath-functions</span><span class="op">"</span><span class="open"></span><span class="op">;</span><span class="whitespace"> 
</span><span class="comment">(:~ this module outputs html  :)</span><span class="open"></span><span class="whitespace">
</span><span class="whitespace">declare default element namespace</span><span class="whitespace"> </span><span class="op">"</span><span class="literal">http://www.w3.org/1999/xhtml</span><span class="op">"</span><span class="open"></span><span class="op">;</span><span class="whitespace">

</span><span class="comment">(:~ This variable contains the first variable to process. :)</span><span class="open"></span><span class="whitespace">
</span><span class="whitespace">declare variable</span><span class="whitespace"> </span><span class="variable">$operand-one</span><span class="whitespace"> </span><span class="op">as</span><span class="whitespace"> </span><span class="type-name">xs:integer</span><span class="whitespace"> </span><span class="op">external</span><span class="op">;</span><span class="whitespace">

</span><span class="comment">(:~ This variable contains the second integer to process. :)</span><span class="open"></span><span class="whitespace">
</span><span class="whitespace">declare variable</span><span class="whitespace"> </span><span class="variable">$operand-two</span><span class="whitespace"> </span><span class="op">as</span><span class="whitespace"> </span><span class="type-name">xs:integer</span><span class="whitespace"> </span><span class="op">external</span><span class="op">;</span><span class="whitespace">

</span><span class="comment">(:~
: Generates title for html page
: &lt;ul class="list"&gt;
:    &lt;li&gt;
        A list item and keywords 'and', 'some' + operators
:    &lt;/li&gt;
: @returns string value for title
:)</span><span class="open"></span><span class="whitespace">
</span><span class="whitespace">declare function</span><span class="whitespace"> </span><span class="function">local:title</span><span class="parenthesis">(</span><span class="parenthesis">)</span><span class="whitespace"> </span><span class="op">as</span><span class="whitespace"> </span><span class="type-name">xs:string</span><span class="op">{</span><span class="whitespace">
</span><span class="op">'</span><span class="literal">A Sample XQuery File</span><span class="op">'</span><span class="open"></span><span class="whitespace">
</span><span class="op">}</span><span class="op">;</span><span class="whitespace">


</span><span class="whitespace">declare function</span><span class="whitespace"> </span><span class="function">local:mytest</span><span class="parenthesis">(</span><span class="parenthesis">)</span><span class="whitespace"> </span><span class="op">as</span><span class="whitespace"> </span><span class="type-name">xs:boolean</span><span class="whitespace">
</span><span class="op">{</span><span class="whitespace">
</span><span class="if">if</span><span class="whitespace"> </span><span class="parenthesis">(</span><span class="function">empty</span><span class="parenthesis">(</span><span class="variable">$operand-one</span><span class="parenthesis">)</span><span class="parenthesis">)</span><span class="whitespace">
    </span><span class="op">then</span><span class="whitespace"> </span><span class="function">false</span><span class="parenthesis">(</span><span class="parenthesis">)</span><span class="whitespace">
 </span><span class="op">else</span><span class="whitespace"> </span><span class="if">if</span><span class="whitespace"> </span><span class="parenthesis">(</span><span class="variable">$operand-two</span><span class="whitespace"> </span><span class="op">eq</span><span class="whitespace"> </span><span class="numeric">2</span><span class="parenthesis">)</span><span class="whitespace">
    </span><span class="op">then</span><span class="whitespace">
    </span><span class="variable">$operand-two</span><span class="whitespace"> </span><span class="op">eq</span><span class="whitespace"> </span><span class="numeric">3</span><span class="whitespace">
 </span><span class="op">else</span><span class="whitespace"> </span><span class="function">false</span><span class="parenthesis">(</span><span class="parenthesis">)</span><span class="whitespace">
</span><span class="op">}</span><span class="op">;</span><span class="whitespace">

</span><span class="if">if</span><span class="whitespace"> </span><span class="parenthesis">(</span><span class="function">true</span><span class="parenthesis">(</span><span class="parenthesis">)</span><span class="parenthesis">)</span><span class="whitespace"> </span><span class="op">then</span><span class="whitespace">
</span><span class="es">&lt;</span><span class="en">html</span><span class="atn"> attr</span><span class="atneq">=</span><span class="z">"</span><span class="av">simple test</span><span class="z">"</span><span class="atn"> test</span><span class="atneq">=</span><span class="z">"</span><span class="av">my </span><span class="op">{</span><span class="qname">awkward</span><span class="step">/</span><span class="qname">difficult</span><span class="op">}</span><span class="av"> answer</span><span class="z">"</span><span class="atn"> class</span><span class="atneq">=</span><span class="z">"</span><span class="op">{</span><span class="step">/</span><span class="qname">abc</span><span class="filter">[</span><span class="axis">@</span><span class="qname">name</span><span class="filter">]</span><span class="op">}</span><span class="z">"</span><span class="z">&gt;</span><span class="txt"> 
</span><span class="es">&lt;</span><span class="en">head</span><span class="z">&gt;</span><span class="txt">
  </span><span class="z">&lt;!--</span><span class="cm"> this is ok </span><span class="z">--&gt;</span><span class="txt">
  </span><span class="es">&lt;</span><span class="en">title</span><span class="z">&gt;</span><span class="op">{</span><span class="function">local:title</span><span class="parenthesis">(</span><span class="parenthesis">)</span><span class="op">}</span><span class="es">&lt;</span><span class="en">bold</span><span class="z">&gt;</span><span class="op">{</span><span class="open"></span><span class="function">local:mytest</span><span class="parenthesis">(</span><span class="parenthesis">)</span><span class="op">,</span><span class="whitespace"> </span><span class="es">&lt;</span><span class="en">nested</span><span class="z">&gt;</span><span class="txt">what </span><span class="op">{</span><span class="open"></span><span class="variable">$operand-two</span><span class="op">,</span><span class="whitespace"> </span><span class="es">&lt;</span><span class="en">nested</span><span class="z">/&gt;</span><span class="op">}</span><span class="txt"> difficulty </span><span class="sc">&lt;/</span><span class="cl">nested</span><span class="z">&gt;</span><span class="op">}</span><span class="sc">&lt;/</span><span class="cl">bold</span><span class="z">&gt;</span><span class="txt"> mixed text</span><span class="sc">&lt;/</span><span class="cl">title</span><span class="z">&gt;</span><span class="txt">
  </span><span class="z">&lt;?</span><span class="pi">abc processing&gt; instruction</span><span class="z">?&gt;</span><span class="txt">
</span><span class="sc">&lt;/</span><span class="cl">head</span><span class="z">&gt;</span><span class="txt">
</span><span class="es">&lt;</span><span class="en">body</span><span class="z">&gt;</span><span class="txt"> 
  </span><span class="es">&lt;</span><span class="en">p</span><span class="z">&gt;</span><span class="op">{</span><span class="variable">$operand-one</span><span class="whitespace"> </span><span class="op">+</span><span class="whitespace"> </span><span class="variable">$operand-two</span><span class="op">}</span><span class="sc">&lt;/</span><span class="cl">p</span><span class="z">&gt;</span><span class="txt">
  </span><span class="es">&lt;</span><span class="en">p</span><span class="z">&gt;</span><span class="z">&lt;![CDATA[</span><span class="cd">this is &lt;testing things&gt; somewhat {testing}and div mod could be tricky/awkward</span><span class="z">]]&gt;</span><span class="sc">&lt;/</span><span class="cl">p</span><span class="z">&gt;</span><span class="txt">
</span><span class="sc">&lt;/</span><span class="cl">body</span><span class="z">&gt;</span><span class="txt">
</span><span class="sc">&lt;/</span><span class="cl">html</span><span class="z">&gt;</span><span class="open"></span><span class="whitespace">
</span><span class="op">else</span><span class="whitespace">
</span><span class="comment">(:
: Module Name: Sample
: Module Version: 1.0
: Date: October 6, 2011
:)</span><span class="whitespace">
</span><span class="op">xquery</span><span class="whitespace"> </span><span class="qname">version</span><span class="whitespace"> </span><span class="op">"</span><span class="literal">1.0</span><span class="op">"</span><span class="open"></span><span class="op">;</span><span class="whitespace">



</span><span class="comment">(:~ so we have XPath 2.0 as default (:function namespace:) :)</span><span class="open"></span><span class="whitespace">
</span><span class="whitespace">declare default function namespace</span><span class="whitespace"> </span><span class="op">"</span><span class="literal">http://www.w3.org/2005/xpath-functions</span><span class="op">"</span><span class="open"></span><span class="op">;</span><span class="whitespace"> 
</span><span class="comment">(:~ this module outputs html  :)</span><span class="open"></span><span class="whitespace">
</span><span class="whitespace">declare default element namespace</span><span class="whitespace"> </span><span class="op">"</span><span class="literal">http://www.w3.org/1999/xhtml</span><span class="op">"</span><span class="open"></span><span class="op">;</span><span class="whitespace">

</span><span class="comment">(:~ This variable contains the first variable to process. :)</span><span class="open"></span><span class="whitespace">
</span><span class="whitespace">declare variable</span><span class="whitespace"> </span><span class="variable">$operand-one</span><span class="whitespace"> </span><span class="op">as</span><span class="whitespace"> </span><span class="type-name">xs:integer</span><span class="whitespace"> </span><span class="op">external</span><span class="op">;</span><span class="whitespace">

</span><span class="comment">(:~ This variable contains the second integer to process. :)</span><span class="open"></span><span class="whitespace">
</span><span class="whitespace">declare variable</span><span class="whitespace"> </span><span class="variable">$operand-two</span><span class="whitespace"> </span><span class="op">as</span><span class="whitespace"> </span><span class="type-name">xs:integer</span><span class="whitespace"> </span><span class="op">external</span><span class="op">;</span><span class="whitespace">

</span><span class="comment">(:~
: Generates title for html page
: &lt;ul class="list"&gt;
:    &lt;li&gt;
        A list item and keywords 'and', 'some' + operators
:    &lt;/li&gt;
: @returns string value for title
:)</span><span class="open"></span><span class="whitespace">
</span><span class="whitespace">declare function</span><span class="whitespace"> </span><span class="function">local:title</span><span class="parenthesis">(</span><span class="parenthesis">)</span><span class="whitespace"> </span><span class="op">as</span><span class="whitespace"> </span><span class="type-name">xs:string</span><span class="op">{</span><span class="whitespace">
</span><span class="op">'</span><span class="literal">A Sample XQuery File</span><span class="op">'</span><span class="open"></span><span class="whitespace">
</span><span class="op">}</span><span class="op">;</span><span class="whitespace">


</span><span class="whitespace">declare function</span><span class="whitespace"> </span><span class="function">local:mytest</span><span class="parenthesis">(</span><span class="parenthesis">)</span><span class="whitespace"> </span><span class="op">as</span><span class="whitespace"> </span><span class="type-name">xs:boolean</span><span class="whitespace">
</span><span class="op">{</span><span class="whitespace">
</span><span class="if">if</span><span class="whitespace"> </span><span class="parenthesis">(</span><span class="function">empty</span><span class="parenthesis">(</span><span class="variable">$operand-one</span><span class="parenthesis">)</span><span class="parenthesis">)</span><span class="whitespace">
    </span><span class="op">then</span><span class="whitespace"> </span><span class="function">false</span><span class="parenthesis">(</span><span class="parenthesis">)</span><span class="whitespace">
 </span><span class="op">else</span><span class="whitespace"> </span><span class="if">if</span><span class="whitespace"> </span><span class="parenthesis">(</span><span class="variable">$operand-two</span><span class="whitespace"> </span><span class="op">eq</span><span class="whitespace"> </span><span class="numeric">2</span><span class="parenthesis">)</span><span class="whitespace">
    </span><span class="op">then</span><span class="whitespace">
    </span><span class="variable">$operand-two</span><span class="whitespace"> </span><span class="op">eq</span><span class="whitespace"> </span><span class="numeric">3</span><span class="whitespace">
 </span><span class="op">else</span><span class="whitespace"> </span><span class="function">false</span><span class="parenthesis">(</span><span class="parenthesis">)</span><span class="whitespace">
</span><span class="op">}</span><span class="op">;</span><span class="whitespace">

</span><span class="if">if</span><span class="whitespace"> </span><span class="parenthesis">(</span><span class="function">true</span><span class="parenthesis">(</span><span class="parenthesis">)</span><span class="parenthesis">)</span><span class="whitespace"> </span><span class="op">then</span><span class="whitespace">
</span><span class="es">&lt;</span><span class="en">html</span><span class="atn"> attr</span><span class="atneq">=</span><span class="z">"</span><span class="av">simple test</span><span class="z">"</span><span class="atn"> test</span><span class="atneq">=</span><span class="z">"</span><span class="av">my </span><span class="op">{</span><span class="qname">awkward</span><span class="step">/</span><span class="qname">difficult</span><span class="op">}</span><span class="av"> answer</span><span class="z">"</span><span class="atn"> class</span><span class="atneq">=</span><span class="z">"</span><span class="op">{</span><span class="step">/</span><span class="qname">abc</span><span class="filter">[</span><span class="axis">@</span><span class="qname">name</span><span class="filter">]</span><span class="op">}</span><span class="z">"</span><span class="z">&gt;</span><span class="txt"> 
</span><span class="es">&lt;</span><span class="en">head</span><span class="z">&gt;</span><span class="txt">
  </span><span class="z">&lt;!--</span><span class="cm"> this is ok </span><span class="z">--&gt;</span><span class="txt">
  </span><span class="es">&lt;</span><span class="en">title</span><span class="z">&gt;</span><span class="op">{</span><span class="function">local:title</span><span class="parenthesis">(</span><span class="parenthesis">)</span><span class="op">}</span><span class="es">&lt;</span><span class="en">bold</span><span class="z">&gt;</span><span class="op">{</span><span class="open"></span><span class="function">local:mytest</span><span class="parenthesis">(</span><span class="parenthesis">)</span><span class="op">,</span><span class="whitespace"> </span><span class="es">&lt;</span><span class="en">nested</span><span class="z">&gt;</span><span class="txt">what </span><span class="op">{</span><span class="open"></span><span class="variable">$operand-two</span><span class="op">,</span><span class="whitespace"> </span><span class="es">&lt;</span><span class="en">nested</span><span class="z">/&gt;</span><span class="op">}</span><span class="txt"> difficulty </span><span class="sc">&lt;/</span><span class="cl">nested</span><span class="z">&gt;</span><span class="op">}</span><span class="sc">&lt;/</span><span class="cl">bold</span><span class="z">&gt;</span><span class="txt"> mixed text</span><span class="sc">&lt;/</span><span class="cl">title</span><span class="z">&gt;</span><span class="txt">
  </span><span class="z">&lt;?</span><span class="pi">abc processing&gt; instruction</span><span class="z">?&gt;</span><span class="txt">
</span><span class="sc">&lt;/</span><span class="cl">head</span><span class="z">&gt;</span><span class="txt">
</span><span class="es">&lt;</span><span class="en">body</span><span class="z">&gt;</span><span class="txt"> 
  </span><span class="es">&lt;</span><span class="en">p</span><span class="z">&gt;</span><span class="op">{</span><span class="variable">$operand-one</span><span class="whitespace"> </span><span class="op">+</span><span class="whitespace"> </span><span class="variable">$operand-two</span><span class="op">}</span><span class="sc">&lt;/</span><span class="cl">p</span><span class="z">&gt;</span><span class="txt">
  </span><span class="es">&lt;</span><span class="en">p</span><span class="z">&gt;</span><span class="z">&lt;![CDATA[</span><span class="cd">this is &lt;testing things&gt; somewhat {testing}and div mod could be tricky/awkward</span><span class="z">]]&gt;</span><span class="sc">&lt;/</span><span class="cl">p</span><span class="z">&gt;</span><span class="txt">
</span><span class="sc">&lt;/</span><span class="cl">body</span><span class="z">&gt;</span><span class="txt">
</span><span class="sc">&lt;/</span><span class="cl">html</span><span class="z">&gt;</span><span class="open"></span><span class="whitespace">
</span><span class="op">else</span><span class="whitespace">
</span><span class="comment">(:
: Module Name: Sample
: Module Version: 1.0
: Date: October 6, 2011
:)</span><span class="whitespace">
</span><span class="op">xquery</span><span class="whitespace"> </span><span class="qname">version</span><span class="whitespace"> </span><span class="op">"</span><span class="literal">1.0</span><span class="op">"</span><span class="open"></span><span class="op">;</span><span class="whitespace">



</span><span class="comment">(:~ so we have XPath 2.0 as default (:function namespace:) :)</span><span class="open"></span><span class="whitespace">
</span><span class="whitespace">declare default function namespace</span><span class="whitespace"> </span><span class="op">"</span><span class="literal">http://www.w3.org/2005/xpath-functions</span><span class="op">"</span><span class="open"></span><span class="op">;</span><span class="whitespace"> 
</span><span class="comment">(:~ this module outputs html  :)</span><span class="open"></span><span class="whitespace">
</span><span class="whitespace">declare default element namespace</span><span class="whitespace"> </span><span class="op">"</span><span class="literal">http://www.w3.org/1999/xhtml</span><span class="op">"</span><span class="open"></span><span class="op">;</span><span class="whitespace">

</span><span class="comment">(:~ This variable contains the first variable to process. :)</span><span class="open"></span><span class="whitespace">
</span><span class="whitespace">declare variable</span><span class="whitespace"> </span><span class="variable">$operand-one</span><span class="whitespace"> </span><span class="op">as</span><span class="whitespace"> </span><span class="type-name">xs:integer</span><span class="whitespace"> </span><span class="op">external</span><span class="op">;</span><span class="whitespace">

</span><span class="comment">(:~ This variable contains the second integer to process. :)</span><span class="open"></span><span class="whitespace">
</span><span class="whitespace">declare variable</span><span class="whitespace"> </span><span class="variable">$operand-two</span><span class="whitespace"> </span><span class="op">as</span><span class="whitespace"> </span><span class="type-name">xs:integer</span><span class="whitespace"> </span><span class="op">external</span><span class="op">;</span><span class="whitespace">

</span><span class="comment">(:~
: Generates title for html page
: &lt;ul class="list"&gt;
:    &lt;li&gt;
        A list item and keywords 'and', 'some' + operators
:    &lt;/li&gt;
: @returns string value for title
:)</span><span class="open"></span><span class="whitespace">
</span><span class="whitespace">declare function</span><span class="whitespace"> </span><span class="function">local:title</span><span class="parenthesis">(</span><span class="parenthesis">)</span><span class="whitespace"> </span><span class="op">as</span><span class="whitespace"> </span><span class="type-name">xs:string</span><span class="op">{</span><span class="whitespace">
</span><span class="op">'</span><span class="literal">A Sample XQuery File</span><span class="op">'</span><span class="open"></span><span class="whitespace">
</span><span class="op">}</span><span class="op">;</span><span class="whitespace">


</span><span class="whitespace">declare function</span><span class="whitespace"> </span><span class="function">local:mytest</span><span class="parenthesis">(</span><span class="parenthesis">)</span><span class="whitespace"> </span><span class="op">as</span><span class="whitespace"> </span><span class="type-name">xs:boolean</span><span class="whitespace">
</span><span class="op">{</span><span class="whitespace">
</span><span class="if">if</span><span class="whitespace"> </span><span class="parenthesis">(</span><span class="function">empty</span><span class="parenthesis">(</span><span class="variable">$operand-one</span><span class="parenthesis">)</span><span class="parenthesis">)</span><span class="whitespace">
    </span><span class="op">then</span><span class="whitespace"> </span><span class="function">false</span><span class="parenthesis">(</span><span class="parenthesis">)</span><span class="whitespace">
 </span><span class="op">else</span><span class="whitespace"> </span><span class="if">if</span><span class="whitespace"> </span><span class="parenthesis">(</span><span class="variable">$operand-two</span><span class="whitespace"> </span><span class="op">eq</span><span class="whitespace"> </span><span class="numeric">2</span><span class="parenthesis">)</span><span class="whitespace">
    </span><span class="op">then</span><span class="whitespace">
    </span><span class="variable">$operand-two</span><span class="whitespace"> </span><span class="op">eq</span><span class="whitespace"> </span><span class="numeric">3</span><span class="whitespace">
 </span><span class="op">else</span><span class="whitespace"> </span><span class="function">false</span><span class="parenthesis">(</span><span class="parenthesis">)</span><span class="whitespace">
</span><span class="op">}</span><span class="op">;</span><span class="whitespace">

</span><span class="if">if</span><span class="whitespace"> </span><span class="parenthesis">(</span><span class="function">true</span><span class="parenthesis">(</span><span class="parenthesis">)</span><span class="parenthesis">)</span><span class="whitespace"> </span><span class="op">then</span><span class="whitespace">
</span><span class="es">&lt;</span><span class="en">html</span><span class="atn"> attr</span><span class="atneq">=</span><span class="z">"</span><span class="av">simple test</span><span class="z">"</span><span class="atn"> test</span><span class="atneq">=</span><span class="z">"</span><span class="av">my </span><span class="op">{</span><span class="qname">awkward</span><span class="step">/</span><span class="qname">difficult</span><span class="op">}</span><span class="av"> answer</span><span class="z">"</span><span class="atn"> class</span><span class="atneq">=</span><span class="z">"</span><span class="op">{</span><span class="step">/</span><span class="qname">abc</span><span class="filter">[</span><span class="axis">@</span><span class="qname">name</span><span class="filter">]</span><span class="op">}</span><span class="z">"</span><span class="z">&gt;</span><span class="txt"> 
</span><span class="es">&lt;</span><span class="en">head</span><span class="z">&gt;</span><span class="txt">
  </span><span class="z">&lt;!--</span><span class="cm"> this is ok </span><span class="z">--&gt;</span><span class="txt">
  </span><span class="es">&lt;</span><span class="en">title</span><span class="z">&gt;</span><span class="op">{</span><span class="function">local:title</span><span class="parenthesis">(</span><span class="parenthesis">)</span><span class="op">}</span><span class="es">&lt;</span><span class="en">bold</span><span class="z">&gt;</span><span class="op">{</span><span class="open"></span><span class="function">local:mytest</span><span class="parenthesis">(</span><span class="parenthesis">)</span><span class="op">,</span><span class="whitespace"> </span><span class="es">&lt;</span><span class="en">nested</span><span class="z">&gt;</span><span class="txt">what </span><span class="op">{</span><span class="open"></span><span class="variable">$operand-two</span><span class="op">,</span><span class="whitespace"> </span><span class="es">&lt;</span><span class="en">nested</span><span class="z">/&gt;</span><span class="op">}</span><span class="txt"> difficulty </span><span class="sc">&lt;/</span><span class="cl">nested</span><span class="z">&gt;</span><span class="op">}</span><span class="sc">&lt;/</span><span class="cl">bold</span><span class="z">&gt;</span><span class="txt"> mixed text</span><span class="sc">&lt;/</span><span class="cl">title</span><span class="z">&gt;</span><span class="txt">
  </span><span class="z">&lt;?</span><span class="pi">abc processing&gt; instruction</span><span class="z">?&gt;</span><span class="txt">
</span><span class="sc">&lt;/</span><span class="cl">head</span><span class="z">&gt;</span><span class="txt">
</span><span class="es">&lt;</span><span class="en">body</span><span class="z">&gt;</span><span class="txt"> 
  </span><span class="es">&lt;</span><span class="en">p</span><span class="z">&gt;</span><span class="op">{</span><span class="variable">$operand-one</span><span class="whitespace"> </span><span class="op">+</span><span class="whitespace"> </span><span class="variable">$operand-two</span><span class="op">}</span><span class="sc">&lt;/</span><span class="cl">p</span><span class="z">&gt;</span><span class="txt">
  </span><span class="es">&lt;</span><span class="en">p</span><span class="z">&gt;</span><span class="z">&lt;![CDATA[</span><span class="cd">this is &lt;testing things&gt; somewhat {testing}and div mod could be tricky/awkward</span><span class="z">]]&gt;</span><span class="sc">&lt;/</span><span class="cl">p</span><span class="z">&gt;</span><span class="txt">
</span><span class="sc">&lt;/</span><span class="cl">body</span><span class="z">&gt;</span><span class="txt">
</span><span class="sc">&lt;/</span><span class="cl">html</span><span class="z">&gt;</span><span class="open"></span><span class="whitespace">
</span><span class="op">else</span><span class="whitespace">
</span><span class="comment">(:
: Module Name: Sample
: Module Version: 1.0
: Date: October 6, 2011
:)</span><span class="whitespace">
</span><span class="op">xquery</span><span class="whitespace"> </span><span class="qname">version</span><span class="whitespace"> </span><span class="op">"</span><span class="literal">1.0</span><span class="op">"</span><span class="open"></span><span class="op">;</span><span class="whitespace">



</span><span class="comment">(:~ so we have XPath 2.0 as default (:function namespace:) :)</span><span class="open"></span><span class="whitespace">
</span><span class="whitespace">declare default function namespace</span><span class="whitespace"> </span><span class="op">"</span><span class="literal">http://www.w3.org/2005/xpath-functions</span><span class="op">"</span><span class="open"></span><span class="op">;</span><span class="whitespace"> 
</span><span class="comment">(:~ this module outputs html  :)</span><span class="open"></span><span class="whitespace">
</span><span class="whitespace">declare default element namespace</span><span class="whitespace"> </span><span class="op">"</span><span class="literal">http://www.w3.org/1999/xhtml</span><span class="op">"</span><span class="open"></span><span class="op">;</span><span class="whitespace">

</span><span class="comment">(:~ This variable contains the first variable to process. :)</span><span class="open"></span><span class="whitespace">
</span><span class="whitespace">declare variable</span><span class="whitespace"> </span><span class="variable">$operand-one</span><span class="whitespace"> </span><span class="op">as</span><span class="whitespace"> </span><span class="type-name">xs:integer</span><span class="whitespace"> </span><span class="op">external</span><span class="op">;</span><span class="whitespace">

</span><span class="comment">(:~ This variable contains the second integer to process. :)</span><span class="open"></span><span class="whitespace">
</span><span class="whitespace">declare variable</span><span class="whitespace"> </span><span class="variable">$operand-two</span><span class="whitespace"> </span><span class="op">as</span><span class="whitespace"> </span><span class="type-name">xs:integer</span><span class="whitespace"> </span><span class="op">external</span><span class="op">;</span><span class="whitespace">

</span><span class="comment">(:~
: Generates title for html page
: &lt;ul class="list"&gt;
:    &lt;li&gt;
        A list item and keywords 'and', 'some' + operators
:    &lt;/li&gt;
: @returns string value for title
:)</span><span class="open"></span><span class="whitespace">
</span><span class="whitespace">declare function</span><span class="whitespace"> </span><span class="function">local:title</span><span class="parenthesis">(</span><span class="parenthesis">)</span><span class="whitespace"> </span><span class="op">as</span><span class="whitespace"> </span><span class="type-name">xs:string</span><span class="op">{</span><span class="whitespace">
</span><span class="op">'</span><span class="literal">A Sample XQuery File</span><span class="op">'</span><span class="open"></span><span class="whitespace">
</span><span class="op">}</span><span class="op">;</span><span class="whitespace">


</span><span class="whitespace">declare function</span><span class="whitespace"> </span><span class="function">local:mytest</span><span class="parenthesis">(</span><span class="parenthesis">)</span><span class="whitespace"> </span><span class="op">as</span><span class="whitespace"> </span><span class="type-name">xs:boolean</span><span class="whitespace">
</span><span class="op">{</span><span class="whitespace">
</span><span class="if">if</span><span class="whitespace"> </span><span class="parenthesis">(</span><span class="function">empty</span><span class="parenthesis">(</span><span class="variable">$operand-one</span><span class="parenthesis">)</span><span class="parenthesis">)</span><span class="whitespace">
    </span><span class="op">then</span><span class="whitespace"> </span><span class="function">false</span><span class="parenthesis">(</span><span class="parenthesis">)</span><span class="whitespace">
 </span><span class="op">else</span><span class="whitespace"> </span><span class="if">if</span><span class="whitespace"> </span><span class="parenthesis">(</span><span class="variable">$operand-two</span><span class="whitespace"> </span><span class="op">eq</span><span class="whitespace"> </span><span class="numeric">2</span><span class="parenthesis">)</span><span class="whitespace">
    </span><span class="op">then</span><span class="whitespace">
    </span><span class="variable">$operand-two</span><span class="whitespace"> </span><span class="op">eq</span><span class="whitespace"> </span><span class="numeric">3</span><span class="whitespace">
 </span><span class="op">else</span><span class="whitespace"> </span><span class="function">false</span><span class="parenthesis">(</span><span class="parenthesis">)</span><span class="whitespace">
</span><span class="op">}</span><span class="op">;</span><span class="whitespace">

</span><span class="if">if</span><span class="whitespace"> </span><span class="parenthesis">(</span><span class="function">true</span><span class="parenthesis">(</span><span class="parenthesis">)</span><span class="parenthesis">)</span><span class="whitespace"> </span><span class="op">then</span><span class="whitespace">
</span><span class="es">&lt;</span><span class="en">html</span><span class="atn"> attr</span><span class="atneq">=</span><span class="z">"</span><span class="av">simple test</span><span class="z">"</span><span class="atn"> test</span><span class="atneq">=</span><span class="z">"</span><span class="av">my </span><span class="op">{</span><span class="qname">awkward</span><span class="step">/</span><span class="qname">difficult</span><span class="op">}</span><span class="av"> answer</span><span class="z">"</span><span class="atn"> class</span><span class="atneq">=</span><span class="z">"</span><span class="op">{</span><span class="step">/</span><span class="qname">abc</span><span class="filter">[</span><span class="axis">@</span><span class="qname">name</span><span class="filter">]</span><span class="op">}</span><span class="z">"</span><span class="z">&gt;</span><span class="txt"> 
</span><span class="es">&lt;</span><span class="en">head</span><span class="z">&gt;</span><span class="txt">
  </span><span class="z">&lt;!--</span><span class="cm"> this is ok </span><span class="z">--&gt;</span><span class="txt">
  </span><span class="es">&lt;</span><span class="en">title</span><span class="z">&gt;</span><span class="op">{</span><span class="function">local:title</span><span class="parenthesis">(</span><span class="parenthesis">)</span><span class="op">}</span><span class="es">&lt;</span><span class="en">bold</span><span class="z">&gt;</span><span class="op">{</span><span class="open"></span><span class="function">local:mytest</span><span class="parenthesis">(</span><span class="parenthesis">)</span><span class="op">,</span><span class="whitespace"> </span><span class="es">&lt;</span><span class="en">nested</span><span class="z">&gt;</span><span class="txt">what </span><span class="op">{</span><span class="open"></span><span class="variable">$operand-two</span><span class="op">,</span><span class="whitespace"> </span><span class="es">&lt;</span><span class="en">nested</span><span class="z">/&gt;</span><span class="op">}</span><span class="txt"> difficulty </span><span class="sc">&lt;/</span><span class="cl">nested</span><span class="z">&gt;</span><span class="op">}</span><span class="sc">&lt;/</span><span class="cl">bold</span><span class="z">&gt;</span><span class="txt"> mixed text</span><span class="sc">&lt;/</span><span class="cl">title</span><span class="z">&gt;</span><span class="txt">
  </span><span class="z">&lt;?</span><span class="pi">abc processing&gt; instruction</span><span class="z">?&gt;</span><span class="txt">
</span><span class="sc">&lt;/</span><span class="cl">head</span><span class="z">&gt;</span><span class="txt">
</span><span class="es">&lt;</span><span class="en">body</span><span class="z">&gt;</span><span class="txt"> 
  </span><span class="es">&lt;</span><span class="en">p</span><span class="z">&gt;</span><span class="op">{</span><span class="variable">$operand-one</span><span class="whitespace"> </span><span class="op">+</span><span class="whitespace"> </span><span class="variable">$operand-two</span><span class="op">}</span><span class="sc">&lt;/</span><span class="cl">p</span><span class="z">&gt;</span><span class="txt">
  </span><span class="es">&lt;</span><span class="en">p</span><span class="z">&gt;</span><span class="z">&lt;![CDATA[</span><span class="cd">this is &lt;testing things&gt; somewhat {testing}and div mod could be tricky/awkward</span><span class="z">]]&gt;</span><span class="sc">&lt;/</span><span class="cl">p</span><span class="z">&gt;</span><span class="txt">
</span><span class="sc">&lt;/</span><span class="cl">body</span><span class="z">&gt;</span><span class="txt">
</span><span class="sc">&lt;/</span><span class="cl">html</span><span class="z">&gt;</span><span class="open"></span><span class="whitespace">
</span><span class="op">else</span><span class="whitespace">
</span><span class="comment">(:
: Module Name: Sample
: Module Version: 1.0
: Date: October 6, 2011
:)</span><span class="whitespace">
</span><span class="op">xquery</span><span class="whitespace"> </span><span class="qname">version</span><span class="whitespace"> </span><span class="op">"</span><span class="literal">1.0</span><span class="op">"</span><span class="open"></span><span class="op">;</span><span class="whitespace">



</span><span class="comment">(:~ so we have XPath 2.0 as default (:function namespace:) :)</span><span class="open"></span><span class="whitespace">
</span><span class="whitespace">declare default function namespace</span><span class="whitespace"> </span><span class="op">"</span><span class="literal">http://www.w3.org/2005/xpath-functions</span><span class="op">"</span><span class="open"></span><span class="op">;</span><span class="whitespace"> 
</span><span class="comment">(:~ this module outputs html  :)</span><span class="open"></span><span class="whitespace">
</span><span class="whitespace">declare default element namespace</span><span class="whitespace"> </span><span class="op">"</span><span class="literal">http://www.w3.org/1999/xhtml</span><span class="op">"</span><span class="open"></span><span class="op">;</span><span class="whitespace">

</span><span class="comment">(:~ This variable contains the first variable to process. :)</span><span class="open"></span><span class="whitespace">
</span><span class="whitespace">declare variable</span><span class="whitespace"> </span><span class="variable">$operand-one</span><span class="whitespace"> </span><span class="op">as</span><span class="whitespace"> </span><span class="type-name">xs:integer</span><span class="whitespace"> </span><span class="op">external</span><span class="op">;</span><span class="whitespace">

</span><span class="comment">(:~ This variable contains the second integer to process. :)</span><span class="open"></span><span class="whitespace">
</span><span class="whitespace">declare variable</span><span class="whitespace"> </span><span class="variable">$operand-two</span><span class="whitespace"> </span><span class="op">as</span><span class="whitespace"> </span><span class="type-name">xs:integer</span><span class="whitespace"> </span><span class="op">external</span><span class="op">;</span><span class="whitespace">

</span><span class="comment">(:~
: Generates title for html page
: &lt;ul class="list"&gt;
:    &lt;li&gt;
        A list item and keywords 'and', 'some' + operators
:    &lt;/li&gt;
: @returns string value for title
:)</span><span class="open"></span><span class="whitespace">
</span><span class="whitespace">declare function</span><span class="whitespace"> </span><span class="function">local:title</span><span class="parenthesis">(</span><span class="parenthesis">)</span><span class="whitespace"> </span><span class="op">as</span><span class="whitespace"> </span><span class="type-name">xs:string</span><span class="op">{</span><span class="whitespace">
</span><span class="op">'</span><span class="literal">A Sample XQuery File</span><span class="op">'</span><span class="open"></span><span class="whitespace">
</span><span class="op">}</span><span class="op">;</span><span class="whitespace">


</span><span class="whitespace">declare function</span><span class="whitespace"> </span><span class="function">local:mytest</span><span class="parenthesis">(</span><span class="parenthesis">)</span><span class="whitespace"> </span><span class="op">as</span><span class="whitespace"> </span><span class="type-name">xs:boolean</span><span class="whitespace">
</span><span class="op">{</span><span class="whitespace">
</span><span class="if">if</span><span class="whitespace"> </span><span class="parenthesis">(</span><span class="function">empty</span><span class="parenthesis">(</span><span class="variable">$operand-one</span><span class="parenthesis">)</span><span class="parenthesis">)</span><span class="whitespace">
    </span><span class="op">then</span><span class="whitespace"> </span><span class="function">false</span><span class="parenthesis">(</span><span class="parenthesis">)</span><span class="whitespace">
 </span><span class="op">else</span><span class="whitespace"> </span><span class="if">if</span><span class="whitespace"> </span><span class="parenthesis">(</span><span class="variable">$operand-two</span><span class="whitespace"> </span><span class="op">eq</span><span class="whitespace"> </span><span class="numeric">2</span><span class="parenthesis">)</span><span class="whitespace">
    </span><span class="op">then</span><span class="whitespace">
    </span><span class="variable">$operand-two</span><span class="whitespace"> </span><span class="op">eq</span><span class="whitespace"> </span><span class="numeric">3</span><span class="whitespace">
 </span><span class="op">else</span><span class="whitespace"> </span><span class="function">false</span><span class="parenthesis">(</span><span class="parenthesis">)</span><span class="whitespace">
</span><span class="op">}</span><span class="op">;</span><span class="whitespace">

</span><span class="if">if</span><span class="whitespace"> </span><span class="parenthesis">(</span><span class="function">true</span><span class="parenthesis">(</span><span class="parenthesis">)</span><span class="parenthesis">)</span><span class="whitespace"> </span><span class="op">then</span><span class="whitespace">
</span><span class="es">&lt;</span><span class="en">html</span><span class="atn"> attr</span><span class="atneq">=</span><span class="z">"</span><span class="av">simple test</span><span class="z">"</span><span class="atn"> test</span><span class="atneq">=</span><span class="z">"</span><span class="av">my </span><span class="op">{</span><span class="qname">awkward</span><span class="step">/</span><span class="qname">difficult</span><span class="op">}</span><span class="av"> answer</span><span class="z">"</span><span class="atn"> class</span><span class="atneq">=</span><span class="z">"</span><span class="op">{</span><span class="step">/</span><span class="qname">abc</span><span class="filter">[</span><span class="axis">@</span><span class="qname">name</span><span class="filter">]</span><span class="op">}</span><span class="z">"</span><span class="z">&gt;</span><span class="txt"> 
</span><span class="es">&lt;</span><span class="en">head</span><span class="z">&gt;</span><span class="txt">
  </span><span class="z">&lt;!--</span><span class="cm"> this is ok </span><span class="z">--&gt;</span><span class="txt">
  </span><span class="es">&lt;</span><span class="en">title</span><span class="z">&gt;</span><span class="op">{</span><span class="function">local:title</span><span class="parenthesis">(</span><span class="parenthesis">)</span><span class="op">}</span><span class="es">&lt;</span><span class="en">bold</span><span class="z">&gt;</span><span class="op">{</span><span class="open"></span><span class="function">local:mytest</span><span class="parenthesis">(</span><span class="parenthesis">)</span><span class="op">,</span><span class="whitespace"> </span><span class="es">&lt;</span><span class="en">nested</span><span class="z">&gt;</span><span class="txt">what </span><span class="op">{</span><span class="open"></span><span class="variable">$operand-two</span><span class="op">,</span><span class="whitespace"> </span><span class="es">&lt;</span><span class="en">nested</span><span class="z">/&gt;</span><span class="op">}</span><span class="txt"> difficulty </span><span class="sc">&lt;/</span><span class="cl">nested</span><span class="z">&gt;</span><span class="op">}</span><span class="sc">&lt;/</span><span class="cl">bold</span><span class="z">&gt;</span><span class="txt"> mixed text</span><span class="sc">&lt;/</span><span class="cl">title</span><span class="z">&gt;</span><span class="txt">
  </span><span class="z">&lt;?</span><span class="pi">abc processing&gt; instruction</span><span class="z">?&gt;</span><span class="txt">
</span><span class="sc">&lt;/</span><span class="cl">head</span><span class="z">&gt;</span><span class="txt">
</span><span class="es">&lt;</span><span class="en">body</span><span class="z">&gt;</span><span class="txt"> 
  </span><span class="es">&lt;</span><span class="en">p</span><span class="z">&gt;</span><span class="op">{</span><span class="variable">$operand-one</span><span class="whitespace"> </span><span class="op">+</span><span class="whitespace"> </span><span class="variable">$operand-two</span><span class="op">}</span><span class="sc">&lt;/</span><span class="cl">p</span><span class="z">&gt;</span><span class="txt">
  </span><span class="es">&lt;</span><span class="en">p</span><span class="z">&gt;</span><span class="z">&lt;![CDATA[</span><span class="cd">this is &lt;testing things&gt; somewhat {testing}and div mod could be tricky/awkward</span><span class="z">]]&gt;</span><span class="sc">&lt;/</span><span class="cl">p</span><span class="z">&gt;</span><span class="txt">
</span><span class="sc">&lt;/</span><span class="cl">body</span><span class="z">&gt;</span><span class="txt">
</span><span class="sc">&lt;/</span><span class="cl">html</span><span class="z">&gt;</span><span class="open"></span><span class="whitespace">
</span><span class="op">else</span><span class="whitespace">
</span><span class="comment">(:
: Module Name: Sample
: Module Version: 1.0
: Date: October 6, 2011
:)</span><span class="whitespace">
</span><span class="op">xquery</span><span class="whitespace"> </span><span class="qname">version</span><span class="whitespace"> </span><span class="op">"</span><span class="literal">1.0</span><span class="op">"</span><span class="open"></span><span class="op">;</span><span class="whitespace">



</span><span class="comment">(:~ so we have XPath 2.0 as default (:function namespace:) :)</span><span class="open"></span><span class="whitespace">
</span><span class="whitespace">declare default function namespace</span><span class="whitespace"> </span><span class="op">"</span><span class="literal">http://www.w3.org/2005/xpath-functions</span><span class="op">"</span><span class="open"></span><span class="op">;</span><span class="whitespace"> 
</span><span class="comment">(:~ this module outputs html  :)</span><span class="open"></span><span class="whitespace">
</span><span class="whitespace">declare default element namespace</span><span class="whitespace"> </span><span class="op">"</span><span class="literal">http://www.w3.org/1999/xhtml</span><span class="op">"</span><span class="open"></span><span class="op">;</span><span class="whitespace">

</span><span class="comment">(:~ This variable contains the first variable to process. :)</span><span class="open"></span><span class="whitespace">
</span><span class="whitespace">declare variable</span><span class="whitespace"> </span><span class="variable">$operand-one</span><span class="whitespace"> </span><span class="op">as</span><span class="whitespace"> </span><span class="type-name">xs:integer</span><span class="whitespace"> </span><span class="op">external</span><span class="op">;</span><span class="whitespace">

</span><span class="comment">(:~ This variable contains the second integer to process. :)</span><span class="open"></span><span class="whitespace">
</span><span class="whitespace">declare variable</span><span class="whitespace"> </span><span class="variable">$operand-two</span><span class="whitespace"> </span><span class="op">as</span><span class="whitespace"> </span><span class="type-name">xs:integer</span><span class="whitespace"> </span><span class="op">external</span><span class="op">;</span><span class="whitespace">

</span><span class="comment">(:~
: Generates title for html page
: &lt;ul class="list"&gt;
:    &lt;li&gt;
        A list item and keywords 'and', 'some' + operators
:    &lt;/li&gt;
: @returns string value for title
:)</span><span class="open"></span><span class="whitespace">
</span><span class="whitespace">declare function</span><span class="whitespace"> </span><span class="function">local:title</span><span class="parenthesis">(</span><span class="parenthesis">)</span><span class="whitespace"> </span><span class="op">as</span><span class="whitespace"> </span><span class="type-name">xs:string</span><span class="op">{</span><span class="whitespace">
</span><span class="op">'</span><span class="literal">A Sample XQuery File</span><span class="op">'</span><span class="open"></span><span class="whitespace">
</span><span class="op">}</span><span class="op">;</span><span class="whitespace">


</span><span class="whitespace">declare function</span><span class="whitespace"> </span><span class="function">local:mytest</span><span class="parenthesis">(</span><span class="parenthesis">)</span><span class="whitespace"> </span><span class="op">as</span><span class="whitespace"> </span><span class="type-name">xs:boolean</span><span class="whitespace">
</span><span class="op">{</span><span class="whitespace">
</span><span class="if">if</span><span class="whitespace"> </span><span class="parenthesis">(</span><span class="function">empty</span><span class="parenthesis">(</span><span class="variable">$operand-one</span><span class="parenthesis">)</span><span class="parenthesis">)</span><span class="whitespace">
    </span><span class="op">then</span><span class="whitespace"> </span><span class="function">false</span><span class="parenthesis">(</span><span class="parenthesis">)</span><span class="whitespace">
 </span><span class="op">else</span><span class="whitespace"> </span><span class="if">if</span><span class="whitespace"> </span><span class="parenthesis">(</span><span class="variable">$operand-two</span><span class="whitespace"> </span><span class="op">eq</span><span class="whitespace"> </span><span class="numeric">2</span><span class="parenthesis">)</span><span class="whitespace">
    </span><span class="op">then</span><span class="whitespace">
    </span><span class="variable">$operand-two</span><span class="whitespace"> </span><span class="op">eq</span><span class="whitespace"> </span><span class="numeric">3</span><span class="whitespace">
 </span><span class="op">else</span><span class="whitespace"> </span><span class="function">false</span><span class="parenthesis">(</span><span class="parenthesis">)</span><span class="whitespace">
</span><span class="op">}</span><span class="op">;</span><span class="whitespace">

</span><span class="if">if</span><span class="whitespace"> </span><span class="parenthesis">(</span><span class="function">true</span><span class="parenthesis">(</span><span class="parenthesis">)</span><span class="parenthesis">)</span><span class="whitespace"> </span><span class="op">then</span><span class="whitespace">
</span><span class="es">&lt;</span><span class="en">html</span><span class="atn"> attr</span><span class="atneq">=</span><span class="z">"</span><span class="av">simple test</span><span class="z">"</span><span class="atn"> test</span><span class="atneq">=</span><span class="z">"</span><span class="av">my </span><span class="op">{</span><span class="qname">awkward</span><span class="step">/</span><span class="qname">difficult</span><span class="op">}</span><span class="av"> answer</span><span class="z">"</span><span class="atn"> class</span><span class="atneq">=</span><span class="z">"</span><span class="op">{</span><span class="step">/</span><span class="qname">abc</span><span class="filter">[</span><span class="axis">@</span><span class="qname">name</span><span class="filter">]</span><span class="op">}</span><span class="z">"</span><span class="z">&gt;</span><span class="txt"> 
</span><span class="es">&lt;</span><span class="en">head</span><span class="z">&gt;</span><span class="txt">
  </span><span class="z">&lt;!--</span><span class="cm"> this is ok </span><span class="z">--&gt;</span><span class="txt">
  </span><span class="es">&lt;</span><span class="en">title</span><span class="z">&gt;</span><span class="op">{</span><span class="function">local:title</span><span class="parenthesis">(</span><span class="parenthesis">)</span><span class="op">}</span><span class="es">&lt;</span><span class="en">bold</span><span class="z">&gt;</span><span class="op">{</span><span class="open"></span><span class="function">local:mytest</span><span class="parenthesis">(</span><span class="parenthesis">)</span><span class="op">,</span><span class="whitespace"> </span><span class="es">&lt;</span><span class="en">nested</span><span class="z">&gt;</span><span class="txt">what </span><span class="op">{</span><span class="open"></span><span class="variable">$operand-two</span><span class="op">,</span><span class="whitespace"> </span><span class="es">&lt;</span><span class="en">nested</span><span class="z">/&gt;</span><span class="op">}</span><span class="txt"> difficulty </span><span class="sc">&lt;/</span><span class="cl">nested</span><span class="z">&gt;</span><span class="op">}</span><span class="sc">&lt;/</span><span class="cl">bold</span><span class="z">&gt;</span><span class="txt"> mixed text</span><span class="sc">&lt;/</span><span class="cl">title</span><span class="z">&gt;</span><span class="txt">
  </span><span class="z">&lt;?</span><span class="pi">abc processing&gt; instruction</span><span class="z">?&gt;</span><span class="txt">
</span><span class="sc">&lt;/</span><span class="cl">head</span><span class="z">&gt;</span><span class="txt">
</span><span class="es">&lt;</span><span class="en">body</span><span class="z">&gt;</span><span class="txt"> 
  </span><span class="es">&lt;</span><span class="en">p</span><span class="z">&gt;</span><span class="op">{</span><span class="variable">$operand-one</span><span class="whitespace"> </span><span class="op">+</span><span class="whitespace"> </span><span class="variable">$operand-two</span><span class="op">}</span><span class="sc">&lt;/</span><span class="cl">p</span><span class="z">&gt;</span><span class="txt">
  </span><span class="es">&lt;</span><span class="en">p</span><span class="z">&gt;</span><span class="z">&lt;![CDATA[</span><span class="cd">this is &lt;testing things&gt; somewhat {testing}and div mod could be tricky/awkward</span><span class="z">]]&gt;</span><span class="sc">&lt;/</span><span class="cl">p</span><span class="z">&gt;</span><span class="txt">
</span><span class="sc">&lt;/</span><span class="cl">body</span><span class="z">&gt;</span><span class="txt">
</span><span class="sc">&lt;/</span><span class="cl">html</span><span class="z">&gt;</span><span class="open"></span><span class="whitespace">
</span><span class="op">else</span><span class="whitespace">
</span><span class="comment">(:
: Module Name: Sample
: Module Version: 1.0
: Date: October 6, 2011
:)</span><span class="whitespace">
</span><span class="op">xquery</span><span class="whitespace"> </span><span class="qname">version</span><span class="whitespace"> </span><span class="op">"</span><span class="literal">1.0</span><span class="op">"</span><span class="open"></span><span class="op">;</span><span class="whitespace">



</span><span class="comment">(:~ so we have XPath 2.0 as default (:function namespace:) :)</span><span class="open"></span><span class="whitespace">
</span><span class="whitespace">declare default function namespace</span><span class="whitespace"> </span><span class="op">"</span><span class="literal">http://www.w3.org/2005/xpath-functions</span><span class="op">"</span><span class="open"></span><span class="op">;</span><span class="whitespace"> 
</span><span class="comment">(:~ this module outputs html  :)</span><span class="open"></span><span class="whitespace">
</span><span class="whitespace">declare default element namespace</span><span class="whitespace"> </span><span class="op">"</span><span class="literal">http://www.w3.org/1999/xhtml</span><span class="op">"</span><span class="open"></span><span class="op">;</span><span class="whitespace">

</span><span class="comment">(:~ This variable contains the first variable to process. :)</span><span class="open"></span><span class="whitespace">
</span><span class="whitespace">declare variable</span><span class="whitespace"> </span><span class="variable">$operand-one</span><span class="whitespace"> </span><span class="op">as</span><span class="whitespace"> </span><span class="type-name">xs:integer</span><span class="whitespace"> </span><span class="op">external</span><span class="op">;</span><span class="whitespace">

</span><span class="comment">(:~ This variable contains the second integer to process. :)</span><span class="open"></span><span class="whitespace">
</span><span class="whitespace">declare variable</span><span class="whitespace"> </span><span class="variable">$operand-two</span><span class="whitespace"> </span><span class="op">as</span><span class="whitespace"> </span><span class="type-name">xs:integer</span><span class="whitespace"> </span><span class="op">external</span><span class="op">;</span><span class="whitespace">

</span><span class="comment">(:~
: Generates title for html page
: &lt;ul class="list"&gt;
:    &lt;li&gt;
        A list item and keywords 'and', 'some' + operators
:    &lt;/li&gt;
: @returns string value for title
:)</span><span class="open"></span><span class="whitespace">
</span><span class="whitespace">declare function</span><span class="whitespace"> </span><span class="function">local:title</span><span class="parenthesis">(</span><span class="parenthesis">)</span><span class="whitespace"> </span><span class="op">as</span><span class="whitespace"> </span><span class="type-name">xs:string</span><span class="op">{</span><span class="whitespace">
</span><span class="op">'</span><span class="literal">A Sample XQuery File</span><span class="op">'</span><span class="open"></span><span class="whitespace">
</span><span class="op">}</span><span class="op">;</span><span class="whitespace">


</span><span class="whitespace">declare function</span><span class="whitespace"> </span><span class="function">local:mytest</span><span class="parenthesis">(</span><span class="parenthesis">)</span><span class="whitespace"> </span><span class="op">as</span><span class="whitespace"> </span><span class="type-name">xs:boolean</span><span class="whitespace">
</span><span class="op">{</span><span class="whitespace">
</span><span class="if">if</span><span class="whitespace"> </span><span class="parenthesis">(</span><span class="function">empty</span><span class="parenthesis">(</span><span class="variable">$operand-one</span><span class="parenthesis">)</span><span class="parenthesis">)</span><span class="whitespace">
    </span><span class="op">then</span><span class="whitespace"> </span><span class="function">false</span><span class="parenthesis">(</span><span class="parenthesis">)</span><span class="whitespace">
 </span><span class="op">else</span><span class="whitespace"> </span><span class="if">if</span><span class="whitespace"> </span><span class="parenthesis">(</span><span class="variable">$operand-two</span><span class="whitespace"> </span><span class="op">eq</span><span class="whitespace"> </span><span class="numeric">2</span><span class="parenthesis">)</span><span class="whitespace">
    </span><span class="op">then</span><span class="whitespace">
    </span><span class="variable">$operand-two</span><span class="whitespace"> </span><span class="op">eq</span><span class="whitespace"> </span><span class="numeric">3</span><span class="whitespace">
 </span><span class="op">else</span><span class="whitespace"> </span><span class="function">false</span><span class="parenthesis">(</span><span class="parenthesis">)</span><span class="whitespace">
</span><span class="op">}</span><span class="op">;</span><span class="whitespace">

</span><span class="if">if</span><span class="whitespace"> </span><span class="parenthesis">(</span><span class="function">true</span><span class="parenthesis">(</span><span class="parenthesis">)</span><span class="parenthesis">)</span><span class="whitespace"> </span><span class="op">then</span><span class="whitespace">
</span><span class="es">&lt;</span><span class="en">html</span><span class="atn"> attr</span><span class="atneq">=</span><span class="z">"</span><span class="av">simple test</span><span class="z">"</span><span class="atn"> test</span><span class="atneq">=</span><span class="z">"</span><span class="av">my </span><span class="op">{</span><span class="qname">awkward</span><span class="step">/</span><span class="qname">difficult</span><span class="op">}</span><span class="av"> answer</span><span class="z">"</span><span class="atn"> class</span><span class="atneq">=</span><span class="z">"</span><span class="op">{</span><span class="step">/</span><span class="qname">abc</span><span class="filter">[</span><span class="axis">@</span><span class="qname">name</span><span class="filter">]</span><span class="op">}</span><span class="z">"</span><span class="z">&gt;</span><span class="txt"> 
</span><span class="es">&lt;</span><span class="en">head</span><span class="z">&gt;</span><span class="txt">
  </span><span class="z">&lt;!--</span><span class="cm"> this is ok </span><span class="z">--&gt;</span><span class="txt">
  </span><span class="es">&lt;</span><span class="en">title</span><span class="z">&gt;</span><span class="op">{</span><span class="function">local:title</span><span class="parenthesis">(</span><span class="parenthesis">)</span><span class="op">}</span><span class="es">&lt;</span><span class="en">bold</span><span class="z">&gt;</span><span class="op">{</span><span class="open"></span><span class="function">local:mytest</span><span class="parenthesis">(</span><span class="parenthesis">)</span><span class="op">,</span><span class="whitespace"> </span><span class="es">&lt;</span><span class="en">nested</span><span class="z">&gt;</span><span class="txt">what </span><span class="op">{</span><span class="open"></span><span class="variable">$operand-two</span><span class="op">,</span><span class="whitespace"> </span><span class="es">&lt;</span><span class="en">nested</span><span class="z">/&gt;</span><span class="op">}</span><span class="txt"> difficulty </span><span class="sc">&lt;/</span><span class="cl">nested</span><span class="z">&gt;</span><span class="op">}</span><span class="sc">&lt;/</span><span class="cl">bold</span><span class="z">&gt;</span><span class="txt"> mixed text</span><span class="sc">&lt;/</span><span class="cl">title</span><span class="z">&gt;</span><span class="txt">
  </span><span class="z">&lt;?</span><span class="pi">abc processing&gt; instruction</span><span class="z">?&gt;</span><span class="txt">
</span><span class="sc">&lt;/</span><span class="cl">head</span><span class="z">&gt;</span><span class="txt">
</span><span class="es">&lt;</span><span class="en">body</span><span class="z">&gt;</span><span class="txt"> 
  </span><span class="es">&lt;</span><span class="en">p</span><span class="z">&gt;</span><span class="op">{</span><span class="variable">$operand-one</span><span class="whitespace"> </span><span class="op">+</span><span class="whitespace"> </span><span class="variable">$operand-two</span><span class="op">}</span><span class="sc">&lt;/</span><span class="cl">p</span><span class="z">&gt;</span><span class="txt">
  </span><span class="es">&lt;</span><span class="en">p</span><span class="z">&gt;</span><span class="z">&lt;![CDATA[</span><span class="cd">this is &lt;testing things&gt; somewhat {testing}and div mod could be tricky/awkward</span><span class="z">]]&gt;</span><span class="sc">&lt;/</span><span class="cl">p</span><span class="z">&gt;</span><span class="txt">
</span><span class="sc">&lt;/</span><span class="cl">body</span><span class="z">&gt;</span><span class="txt">
</span><span class="sc">&lt;/</span><span class="cl">html</span><span class="z">&gt;</span><span class="open"></span><span class="whitespace">
</span><span class="op">else</span><span class="whitespace">
</span><span class="comment">(:
: Module Name: Sample
: Module Version: 1.0
: Date: October 6, 2011
:)</span><span class="whitespace">
</span><span class="op">xquery</span><span class="whitespace"> </span><span class="qname">version</span><span class="whitespace"> </span><span class="op">"</span><span class="literal">1.0</span><span class="op">"</span><span class="open"></span><span class="op">;</span><span class="whitespace">



</span><span class="comment">(:~ so we have XPath 2.0 as default (:function namespace:) :)</span><span class="open"></span><span class="whitespace">
</span><span class="whitespace">declare default function namespace</span><span class="whitespace"> </span><span class="op">"</span><span class="literal">http://www.w3.org/2005/xpath-functions</span><span class="op">"</span><span class="open"></span><span class="op">;</span><span class="whitespace"> 
</span><span class="comment">(:~ this module outputs html  :)</span><span class="open"></span><span class="whitespace">
</span><span class="whitespace">declare default element namespace</span><span class="whitespace"> </span><span class="op">"</span><span class="literal">http://www.w3.org/1999/xhtml</span><span class="op">"</span><span class="open"></span><span class="op">;</span><span class="whitespace">

</span><span class="comment">(:~ This variable contains the first variable to process. :)</span><span class="open"></span><span class="whitespace">
</span><span class="whitespace">declare variable</span><span class="whitespace"> </span><span class="variable">$operand-one</span><span class="whitespace"> </span><span class="op">as</span><span class="whitespace"> </span><span class="type-name">xs:integer</span><span class="whitespace"> </span><span class="op">external</span><span class="op">;</span><span class="whitespace">

</span><span class="comment">(:~ This variable contains the second integer to process. :)</span><span class="open"></span><span class="whitespace">
</span><span class="whitespace">declare variable</span><span class="whitespace"> </span><span class="variable">$operand-two</span><span class="whitespace"> </span><span class="op">as</span><span class="whitespace"> </span><span class="type-name">xs:integer</span><span class="whitespace"> </span><span class="op">external</span><span class="op">;</span><span class="whitespace">

</span><span class="comment">(:~
: Generates title for html page
: &lt;ul class="list"&gt;
:    &lt;li&gt;
        A list item and keywords 'and', 'some' + operators
:    &lt;/li&gt;
: @returns string value for title
:)</span><span class="open"></span><span class="whitespace">
</span><span class="whitespace">declare function</span><span class="whitespace"> </span><span class="function">local:title</span><span class="parenthesis">(</span><span class="parenthesis">)</span><span class="whitespace"> </span><span class="op">as</span><span class="whitespace"> </span><span class="type-name">xs:string</span><span class="op">{</span><span class="whitespace">
</span><span class="op">'</span><span class="literal">A Sample XQuery File</span><span class="op">'</span><span class="open"></span><span class="whitespace">
</span><span class="op">}</span><span class="op">;</span><span class="whitespace">


</span><span class="whitespace">declare function</span><span class="whitespace"> </span><span class="function">local:mytest</span><span class="parenthesis">(</span><span class="parenthesis">)</span><span class="whitespace"> </span><span class="op">as</span><span class="whitespace"> </span><span class="type-name">xs:boolean</span><span class="whitespace">
</span><span class="op">{</span><span class="whitespace">
</span><span class="if">if</span><span class="whitespace"> </span><span class="parenthesis">(</span><span class="function">empty</span><span class="parenthesis">(</span><span class="variable">$operand-one</span><span class="parenthesis">)</span><span class="parenthesis">)</span><span class="whitespace">
    </span><span class="op">then</span><span class="whitespace"> </span><span class="function">false</span><span class="parenthesis">(</span><span class="parenthesis">)</span><span class="whitespace">
 </span><span class="op">else</span><span class="whitespace"> </span><span class="if">if</span><span class="whitespace"> </span><span class="parenthesis">(</span><span class="variable">$operand-two</span><span class="whitespace"> </span><span class="op">eq</span><span class="whitespace"> </span><span class="numeric">2</span><span class="parenthesis">)</span><span class="whitespace">
    </span><span class="op">then</span><span class="whitespace">
    </span><span class="variable">$operand-two</span><span class="whitespace"> </span><span class="op">eq</span><span class="whitespace"> </span><span class="numeric">3</span><span class="whitespace">
 </span><span class="op">else</span><span class="whitespace"> </span><span class="function">false</span><span class="parenthesis">(</span><span class="parenthesis">)</span><span class="whitespace">
</span><span class="op">}</span><span class="op">;</span><span class="whitespace">

</span><span class="if">if</span><span class="whitespace"> </span><span class="parenthesis">(</span><span class="function">true</span><span class="parenthesis">(</span><span class="parenthesis">)</span><span class="parenthesis">)</span><span class="whitespace"> </span><span class="op">then</span><span class="whitespace">
</span><span class="es">&lt;</span><span class="en">html</span><span class="atn"> attr</span><span class="atneq">=</span><span class="z">"</span><span class="av">simple test</span><span class="z">"</span><span class="atn"> test</span><span class="atneq">=</span><span class="z">"</span><span class="av">my </span><span class="op">{</span><span class="qname">awkward</span><span class="step">/</span><span class="qname">difficult</span><span class="op">}</span><span class="av"> answer</span><span class="z">"</span><span class="atn"> class</span><span class="atneq">=</span><span class="z">"</span><span class="op">{</span><span class="step">/</span><span class="qname">abc</span><span class="filter">[</span><span class="axis">@</span><span class="qname">name</span><span class="filter">]</span><span class="op">}</span><span class="z">"</span><span class="z">&gt;</span><span class="txt"> 
</span><span class="es">&lt;</span><span class="en">head</span><span class="z">&gt;</span><span class="txt">
  </span><span class="z">&lt;!--</span><span class="cm"> this is ok </span><span class="z">--&gt;</span><span class="txt">
  </span><span class="es">&lt;</span><span class="en">title</span><span class="z">&gt;</span><span class="op">{</span><span class="function">local:title</span><span class="parenthesis">(</span><span class="parenthesis">)</span><span class="op">}</span><span class="es">&lt;</span><span class="en">bold</span><span class="z">&gt;</span><span class="op">{</span><span class="open"></span><span class="function">local:mytest</span><span class="parenthesis">(</span><span class="parenthesis">)</span><span class="op">,</span><span class="whitespace"> </span><span class="es">&lt;</span><span class="en">nested</span><span class="z">&gt;</span><span class="txt">what </span><span class="op">{</span><span class="open"></span><span class="variable">$operand-two</span><span class="op">,</span><span class="whitespace"> </span><span class="es">&lt;</span><span class="en">nested</span><span class="z">/&gt;</span><span class="op">}</span><span class="txt"> difficulty </span><span class="sc">&lt;/</span><span class="cl">nested</span><span class="z">&gt;</span><span class="op">}</span><span class="sc">&lt;/</span><span class="cl">bold</span><span class="z">&gt;</span><span class="txt"> mixed text</span><span class="sc">&lt;/</span><span class="cl">title</span><span class="z">&gt;</span><span class="txt">
  </span><span class="z">&lt;?</span><span class="pi">abc processing&gt; instruction</span><span class="z">?&gt;</span><span class="txt">
</span><span class="sc">&lt;/</span><span class="cl">head</span><span class="z">&gt;</span><span class="txt">
</span><span class="es">&lt;</span><span class="en">body</span><span class="z">&gt;</span><span class="txt"> 
  </span><span class="es">&lt;</span><span class="en">p</span><span class="z">&gt;</span><span class="op">{</span><span class="variable">$operand-one</span><span class="whitespace"> </span><span class="op">+</span><span class="whitespace"> </span><span class="variable">$operand-two</span><span class="op">}</span><span class="sc">&lt;/</span><span class="cl">p</span><span class="z">&gt;</span><span class="txt">
  </span><span class="es">&lt;</span><span class="en">p</span><span class="z">&gt;</span><span class="z">&lt;![CDATA[</span><span class="cd">this is &lt;testing things&gt; somewhat {testing}and div mod could be tricky/awkward</span><span class="z">]]&gt;</span><span class="sc">&lt;/</span><span class="cl">p</span><span class="z">&gt;</span><span class="txt">
</span><span class="sc">&lt;/</span><span class="cl">body</span><span class="z">&gt;</span><span class="txt">
</span><span class="sc">&lt;/</span><span class="cl">html</span><span class="z">&gt;</span><span class="open"></span><span class="whitespace">
</span><span class="op">else</span><span class="whitespace">
</span><span class="comment">(:
: Module Name: Sample
: Module Version: 1.0
: Date: October 6, 2011
:)</span><span class="whitespace">
</span><span class="op">xquery</span><span class="whitespace"> </span><span class="qname">version</span><span class="whitespace"> </span><span class="op">"</span><span class="literal">1.0</span><span class="op">"</span><span class="open"></span><span class="op">;</span><span class="whitespace">



</span><span class="comment">(:~ so we have XPath 2.0 as default (:function namespace:) :)</span><span class="open"></span><span class="whitespace">
</span><span class="whitespace">declare default function namespace</span><span class="whitespace"> </span><span class="op">"</span><span class="literal">http://www.w3.org/2005/xpath-functions</span><span class="op">"</span><span class="open"></span><span class="op">;</span><span class="whitespace"> 
</span><span class="comment">(:~ this module outputs html  :)</span><span class="open"></span><span class="whitespace">
</span><span class="whitespace">declare default element namespace</span><span class="whitespace"> </span><span class="op">"</span><span class="literal">http://www.w3.org/1999/xhtml</span><span class="op">"</span><span class="open"></span><span class="op">;</span><span class="whitespace">

</span><span class="comment">(:~ This variable contains the first variable to process. :)</span><span class="open"></span><span class="whitespace">
</span><span class="whitespace">declare variable</span><span class="whitespace"> </span><span class="variable">$operand-one</span><span class="whitespace"> </span><span class="op">as</span><span class="whitespace"> </span><span class="type-name">xs:integer</span><span class="whitespace"> </span><span class="op">external</span><span class="op">;</span><span class="whitespace">

</span><span class="comment">(:~ This variable contains the second integer to process. :)</span><span class="open"></span><span class="whitespace">
</span><span class="whitespace">declare variable</span><span class="whitespace"> </span><span class="variable">$operand-two</span><span class="whitespace"> </span><span class="op">as</span><span class="whitespace"> </span><span class="type-name">xs:integer</span><span class="whitespace"> </span><span class="op">external</span><span class="op">;</span><span class="whitespace">

</span><span class="comment">(:~
: Generates title for html page
: &lt;ul class="list"&gt;
:    &lt;li&gt;
        A list item and keywords 'and', 'some' + operators
:    &lt;/li&gt;
: @returns string value for title
:)</span><span class="open"></span><span class="whitespace">
</span><span class="whitespace">declare function</span><span class="whitespace"> </span><span class="function">local:title</span><span class="parenthesis">(</span><span class="parenthesis">)</span><span class="whitespace"> </span><span class="op">as</span><span class="whitespace"> </span><span class="type-name">xs:string</span><span class="op">{</span><span class="whitespace">
</span><span class="op">'</span><span class="literal">A Sample XQuery File</span><span class="op">'</span><span class="open"></span><span class="whitespace">
</span><span class="op">}</span><span class="op">;</span><span class="whitespace">


</span><span class="whitespace">declare function</span><span class="whitespace"> </span><span class="function">local:mytest</span><span class="parenthesis">(</span><span class="parenthesis">)</span><span class="whitespace"> </span><span class="op">as</span><span class="whitespace"> </span><span class="type-name">xs:boolean</span><span class="whitespace">
</span><span class="op">{</span><span class="whitespace">
</span><span class="if">if</span><span class="whitespace"> </span><span class="parenthesis">(</span><span class="function">empty</span><span class="parenthesis">(</span><span class="variable">$operand-one</span><span class="parenthesis">)</span><span class="parenthesis">)</span><span class="whitespace">
    </span><span class="op">then</span><span class="whitespace"> </span><span class="function">false</span><span class="parenthesis">(</span><span class="parenthesis">)</span><span class="whitespace">
 </span><span class="op">else</span><span class="whitespace"> </span><span class="if">if</span><span class="whitespace"> </span><span class="parenthesis">(</span><span class="variable">$operand-two</span><span class="whitespace"> </span><span class="op">eq</span><span class="whitespace"> </span><span class="numeric">2</span><span class="parenthesis">)</span><span class="whitespace">
    </span><span class="op">then</span><span class="whitespace">
    </span><span class="variable">$operand-two</span><span class="whitespace"> </span><span class="op">eq</span><span class="whitespace"> </span><span class="numeric">3</span><span class="whitespace">
 </span><span class="op">else</span><span class="whitespace"> </span><span class="function">false</span><span class="parenthesis">(</span><span class="parenthesis">)</span><span class="whitespace">
</span><span class="op">}</span><span class="op">;</span><span class="whitespace">

</span><span class="if">if</span><span class="whitespace"> </span><span class="parenthesis">(</span><span class="function">true</span><span class="parenthesis">(</span><span class="parenthesis">)</span><span class="parenthesis">)</span><span class="whitespace"> </span><span class="op">then</span><span class="whitespace">
</span><span class="es">&lt;</span><span class="en">html</span><span class="atn"> attr</span><span class="atneq">=</span><span class="z">"</span><span class="av">simple test</span><span class="z">"</span><span class="atn"> test</span><span class="atneq">=</span><span class="z">"</span><span class="av">my </span><span class="op">{</span><span class="qname">awkward</span><span class="step">/</span><span class="qname">difficult</span><span class="op">}</span><span class="av"> answer</span><span class="z">"</span><span class="atn"> class</span><span class="atneq">=</span><span class="z">"</span><span class="op">{</span><span class="step">/</span><span class="qname">abc</span><span class="filter">[</span><span class="axis">@</span><span class="qname">name</span><span class="filter">]</span><span class="op">}</span><span class="z">"</span><span class="z">&gt;</span><span class="txt"> 
</span><span class="es">&lt;</span><span class="en">head</span><span class="z">&gt;</span><span class="txt">
  </span><span class="z">&lt;!--</span><span class="cm"> this is ok </span><span class="z">--&gt;</span><span class="txt">
  </span><span class="es">&lt;</span><span class="en">title</span><span class="z">&gt;</span><span class="op">{</span><span class="function">local:title</span><span class="parenthesis">(</span><span class="parenthesis">)</span><span class="op">}</span><span class="es">&lt;</span><span class="en">bold</span><span class="z">&gt;</span><span class="op">{</span><span class="open"></span><span class="function">local:mytest</span><span class="parenthesis">(</span><span class="parenthesis">)</span><span class="op">,</span><span class="whitespace"> </span><span class="es">&lt;</span><span class="en">nested</span><span class="z">&gt;</span><span class="txt">what </span><span class="op">{</span><span class="open"></span><span class="variable">$operand-two</span><span class="op">,</span><span class="whitespace"> </span><span class="es">&lt;</span><span class="en">nested</span><span class="z">/&gt;</span><span class="op">}</span><span class="txt"> difficulty </span><span class="sc">&lt;/</span><span class="cl">nested</span><span class="z">&gt;</span><span class="op">}</span><span class="sc">&lt;/</span><span class="cl">bold</span><span class="z">&gt;</span><span class="txt"> mixed text</span><span class="sc">&lt;/</span><span class="cl">title</span><span class="z">&gt;</span><span class="txt">
  </span><span class="z">&lt;?</span><span class="pi">abc processing&gt; instruction</span><span class="z">?&gt;</span><span class="txt">
</span><span class="sc">&lt;/</span><span class="cl">head</span><span class="z">&gt;</span><span class="txt">
</span><span class="es">&lt;</span><span class="en">body</span><span class="z">&gt;</span><span class="txt"> 
  </span><span class="es">&lt;</span><span class="en">p</span><span class="z">&gt;</span><span class="op">{</span><span class="variable">$operand-one</span><span class="whitespace"> </span><span class="op">+</span><span class="whitespace"> </span><span class="variable">$operand-two</span><span class="op">}</span><span class="sc">&lt;/</span><span class="cl">p</span><span class="z">&gt;</span><span class="txt">
  </span><span class="es">&lt;</span><span class="en">p</span><span class="z">&gt;</span><span class="z">&lt;![CDATA[</span><span class="cd">this is &lt;testing things&gt; somewhat {testing}and div mod could be tricky/awkward</span><span class="z">]]&gt;</span><span class="sc">&lt;/</span><span class="cl">p</span><span class="z">&gt;</span><span class="txt">
</span><span class="sc">&lt;/</span><span class="cl">body</span><span class="z">&gt;</span><span class="txt">
</span><span class="sc">&lt;/</span><span class="cl">html</span><span class="z">&gt;</span><span class="whitespace">

</span></pre></div></body></html>